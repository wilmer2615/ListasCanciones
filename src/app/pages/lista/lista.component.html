
  <div class="row">
    <div class="col">
      <h1>Listas</h1>
      <hr>  
      <form class=""  id="CrearListaFrm" (ngSubmit)="crearLista(form)" #form="ngForm" >

        <div class="form-group">
          <label for="" class="mt-2">ID</label>
          <input type="text" class="form-control" disabled placeholder="ID Autogenerado" [(ngModel)]="miLista.Id"
          name="id">
        </div>

        <div class="form-group">
          <label for="" class="mt-2">Nombre</label>
          <input type="text" class="form-control"  placeholder="Nombre de la lista" required [(ngModel)]="miLista.NombreLista"
          name="NombreLista">
        </div>

        <div class="mt-3">
          <h1>Canciones</h1>
          <hr>  
        </div>

        <table class="table table-dark table-hover">
          <thead class="">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">IDArtista</th>
              <th scope="col">Nombre Cancion</th>
              <th scope="col">Nombre Artista</th>
              <th scope="col">Duracion</th>
              <th scope="col">Album</th>
              <th scope="col">Agregar</th>
              
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cancion of result | paginate: { itemsPerPage: 10, currentPage: page }  ;let i = index">
              <th scope="row">{{cancion.IdCancion}}</th>
              <td>{{cancion.IdArtista}}</td>
              <td>{{cancion.NombreCancion}}</td>
              <td>{{cancion.NombreArtista}}</td>
              <td>{{cancion.Duracion}}</td>
              <td>{{cancion.Album}}</td>
              <td>
                <label>
                  <input type="checkbox"  [(ngModel)]="cancion.agregar" [name]="'tbx'+ cancion.IdCancion" >
                  
                </label>
              </td>
            
          </tbody>
        </table>

        <div class="row col-12"> 
          <div class="form-group text-center col-4">
            <button class="btn btn-primary" type="submit">
              <i class="fa fa-save"></i>
              Crear Lista
            </button>
          </div>  
          <div class="form-group text-center col-4" *ngIf="miLista.Id >= 0">
            <button class="btn btn-primary" type="button" (click)="editarLista()">
              <i class="fa fa-save"></i>
              Actualizar Lista
            </button>
          </div>  

          <div class="form-group text-end col-4">  
            <pagination-controls             
              (pageChange)="page = $event"
              previousLabel="Anterior"
              nextLabel="Siguiente">
            </pagination-controls>
          </div>         
        </div>    
      </form>

      <table class="table table-dark table-hover">
        <thead class="">
          <tr>
            <th scope="col">Nombre Lista</th>
            <th scope="col">Detalle</th>                        
            <th scope="col"></th>                        
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let lista of listas" >
            <th scope="row">{{lista.NombreLista}}</th>
            <td>
              <button type="button" class="btn btn-primary" (click)="cargarid(lista.Id)"data-bs-toggle="modal" data-bs-target="#exampleModal">
                Canciones
              </button>
                            <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h2 class="modal-title " id="exampleModalLabel">Mis canciones</h2>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      
                      <table class="table table-dark table-hover">
                        <thead class="">
                          <tr>
                            <th scope="col">Nombre Cancion</th>
                            <th scope="col">Nombre Artista</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let cancion of cancionesDetalle ">
                            <th scope="row">{{cancion.NombreCancion}}</th>
                            <td>{{cancion.NombreArtista}}</td>
                        </tbody>
                      </table>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </div>
              </div>            
            </td>
            <td>
              <button class="btn btn-info mr-1" (click)="cargarLista(lista)">
                <i class="fa fa-pen"></i>
              </button>
            </td>
            
        </tbody>
      </table>

      </div>
    </div>
         

    
    

      
       
  